<!DOCTYPE html>
<html>
<head>
    <title>API Responses</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h3 { margin-bottom: 15px; }
        .accordion { margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; }
        .accordion-header { padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; user-select: none; }
        .accordion-header:hover { background-color: #f5f5f5; }
        .url { font-weight: bold; word-break: break-all; flex: 1; }
        .method { margin-right: 10px; font-weight: bold; min-width: 60px; }
        .status { font-weight: bold; padding: 3px 8px; border-radius: 3px; margin-left: 10px; min-width: 40px; text-align: center; }
        .status-success { background-color: #dff0d8; color: #3c763d; }
        .status-warning { background-color: #fcf8e3; color: #8a6d3b; }
        .status-error { background-color: #f2dede; color: #a94442; }
        .accordion-content { padding: 0; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; background-color: #f8f9fa; }
        .accordion-content.active { max-height: 500px; overflow: auto; }
        pre { margin: 0; padding: 15px; overflow-x: auto; font-family: monospace; font-size: 13px; white-space: pre-wrap; }
        .toggle-all { margin-bottom: 10px; cursor: pointer; background: #f8f8f8; border: 1px solid #ddd; padding: 5px 10px; border-radius: 4px; }
        .toggle-all:hover { background: #e8e8e8; }
        .chevron { transition: transform 0.3s; display: inline-block; margin-left: 10px; }
        .active .chevron { transform: rotate(180deg); }
        .summary-section {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: #f8f8f8;
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-bottom: 10px;
}

        .summary-item {
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 4px;
        white-space: nowrap;
}
    </style>
</head>
<body>
<h3>API Responses</h3>
<button class='toggle-all' onclick='toggleAll()'>Expand All</button>
<div class='summary-section'>
    <span class='summary-item'>Total: <strong>{{total}}</strong></span>
    <span class='summary-item status status-success'>Success: <strong>{{success}}</strong></span>
    <span class='summary-item status status-warning'>Redirect: <strong>{{warning}}</strong></span>
    <span class='summary-item status status-error'>Error: <strong>{{error}}</strong></span>
</div>
<div id='responses'></div>
<script>
    function toggleAccordion(id) {
        const content = document.getElementById('content-' + id);
        const header = document.getElementById('header-' + id);
        content.classList.toggle('active');
        header.classList.toggle('active');
    }
    function toggleAll() {
        const buttons = document.getElementsByClassName('toggle-all')[0];
        const contents = document.getElementsByClassName('accordion-content');
        const headers = document.getElementsByClassName('accordion-header');
        const isExpanding = buttons.innerText === 'Expand All';
        buttons.innerText = isExpanding ? 'Collapse All' : 'Expand All';
        for (let i = 0; i < contents.length; i++) {
            if (isExpanding) {
                contents[i].classList.add('active');
                headers[i].classList.add('active');
            } else {
                contents[i].classList.remove('active');
                headers[i].classList.remove('active');
            }
        }
    }
</script>
</body>
</html>
